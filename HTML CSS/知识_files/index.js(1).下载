define("nowcoder/1.2.1225/javascripts/component/cmt/cpn/reply",["nc","ncpc"],function(t,i,e){var n=t("nc"),r=t("ncpc"),a=n.$,o=(n.Base,n.Clazz),c=n.Component,l=n.Dom,s=r.AtList,p=r.AttachEmoji,u=e.exports=o.create();o.mix(u,c,{_template:['<div class="reply-editbox clearfix" style="margin-top:10px;">','<div class="reply-write">','<textarea placeholder="#{placeholder}" class="reply-input reply-input-textarea js-ipt"></textarea>',"</div>",'<div class="reply-action clearfix">','<a href="javascript:void(0);" class="icon-emotion js-reply-emoji"></a>','<a class="btn btn-primary reply-btn js-reply" href="javascript:void(0);">回复</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,i=t.getEl();t.ipt=i.find(".js-ipt"),t.initInput(),t.initEmoji()}},{name:"click a.js-reply",handler:function(t){var i=this,e=a(t.currentTarget),n=(i.rawConfig,i.val());if(!n)return i.focus();i.fire("goAddCmt",n,e)}}]},{initInput:function f(){var t=this.getEl(),i=this.ipt;i.on("focus",function(){t.addClass("reply-focus")}).on("blur",function(){t.removeClass("reply-focus")}),window.setTimeout(function(){i.outerWidth(t.width())},0),l.txtAutoHeight({el:i}),s.input(i)},initEmoji:function d(){var i=this,t=i.getEl();p.show({target:t.find(".js-reply-emoji"),call:function(t){p.renderInIpt(i.ipt,t)}})},val:function m(t){var i=this.ipt;if(0===arguments.length)return a.trim(i.val());(t=a.trim(t))!==a.trim(i.val())&&(i.val(t),i.trigger("change"))},focus:function v(){this.ipt.focus()},_getData:function h(t){return{placeholder:t.placeholder||"请输入你的观点"}}})});
define("nowcoder/1.2.1225/javascripts/component/cmt/item/item",["nc","cpn","ncpc","../../../action/contest","../../../action/admin","../../../core/siteConfig"],function(t,e,i){var n=t("nc"),a=t("cpn"),o=t("ncpc"),f=n.$,g=n.Base,r=n.Component,s=n.Time,c=n.Clazz,l=n.Dom,d=n.Limit,m=n.Html,u=a.Popup,p=a.PopupImage,y=o.PopupReport,C=t("../../../action/contest"),h=t("../../../action/admin"),v=t("../../../core/siteConfig"),b=i.exports=c.create();c.mix(b,r,{_template:'<div class=""></div>',_listTemplate:'<div class="js-list"></div>',_noneTemplate:"没有数据",listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.getEl();t.isFeedAd&&e.find(".js-cmt-action").remove(),!t.isFeedAd&&t.initExtAction()}},{name:"click .js-cmt-action",handler:function(t){t.stopPropagation();var e=this,i=f(t.currentTarget),n=f.trim(i.attr("data-action")),a="action"+n.slice(0,1).toUpperCase()+n.slice(1);!e.isFeedAd&&e[a]&&e[a](i)}},{name:"click .answer-brief img",handler:function(t){var e=f(t.currentTarget),i=f.trim(e.attr("src"));i&&!e.attr("data-identity")&&p.show(i)}}],initConf:function w(t,e){var i=!!t.isFeedAd;return t.headImg=t.headImg||v.avatar.small,g.extend({},e,{item:t,floor:i?"广告":g.id(e.index)?+e.index+1:""},t)}},{initialize:function A(t){this.isFeedAd=!!t.isFeedAd},initExtAction:function k(){var t=this,e=t.rawConfig,i=e.item,n=(t.getEl(),f(t.getActionEl())),a=e.typeStatus,o=e.isWonderful,r=e.isAward,s=e.isLitigant,c=e.isEntityAuthor,l=t.isAdmin(),d=t.isSelf(),m=a.isSubCmt;if(0<n.length){var u=[{title:"举报",action:"report",need:!d&&(!m||e.needSubReport),cls:"click-del"},{title:"当事人回复",action:"litigant",need:l&&!m&&!s},{title:"取消当事人回复",action:"litigant",need:l&&!m&&s},{title:"设置精彩",action:"wonderful",need:l&&!m&&!o},{title:"取消精彩",action:"wonderful",need:l&&!m&&o},{title:"采纳回答",action:"accept",need:!m&&r&&c},{title:"标记为垃圾",action:"spam",need:l},{title:"删除",action:"del",cls:"click-del",need:(l||d)&&!i.isAccepted}],p=g.map(u,function(t){return t.need?'<a href="javascript:void(0);" class="js-cmt-action '+(t.cls||"")+'" data-action="'+t.action+'">'+t.title+"</a>":""}).join("");n.append(p)}},actionLike:function x(e){var i=this.rawConfig,n=i.isLiked;d.mark(e)||C[n?"unlike":"like"]({body:{id:i.id,type:v.type.comment},call:function(t){i.isLiked=!n,i.likes=t.count,e.text((n?"赞":"已赞")+"("+t.count+")")},error:function(t){u.alert(t.msg)},always:function(){d.pause(e)}})},actionDel:function S(t){var e=this,i=e.rawConfig,n=e.getEl();u.confirm("确定删除评论？",function(){C.delComment({body:{id:i.id},call:function(t){n.slideUp(150,function(){e.subCmtList&&e.subCmtList.destroy(),e.fire("delCmt",t),e.destroy(),u.tips("操作成功")})},error:function(t){u.alert(t.msg)}})})},actionReply:function I(t){var e=this,i=e.getSubCmtEl();if(0===i.length)return;if(d.mark(t))return;if(e.subCmtList)return i.slideUp(150,function(){i.hide(),e.subCmtList.destroy(),e.subCmtList=null,i.html(""),d.pause(t)});e.openSubCmt()},actionWonderful:function L(e){var i=this,n=i.getEl(),a=i.rawConfig,o=a.isWonderful;u.confirm(o?"你确定将此评论取消精彩吗":"你确定要将评论设为精彩吗",function(){!d.mark(e)&&C[o?"delWonderfulComment":"newWonderfulComment"]({body:{commentId:a.id},call:function(t){a.isWonderful=!o,l.cls(n.find(".post-floor-green,.post-floor"),{"post-floor":o,"post-floor-green":!o}),e.text(o?"设置精彩":"取消精彩"),i.fire("wonderfulCmt")},error:function(t){u.alert(t.msg)},always:function(){d.pause(e)}})})},actionLitigant:function E(e){var i=this,n=i.getEl(),a=i.rawConfig,o=a.isLitigant;u.confirm(o?"你确定将此评论取消当事人评论吗":"你确定要将评论设为当事人评论吗",function(){!d.mark(e)&&C[o?"delLitigantComment":"newLitigantComment"]({body:{commentId:a.id},call:function(t){a.isLitigant=!o,o&&n.find(".lz-reply").remove(),!o&&n.find(".answer-detail p").append('<span class="lz-reply"><span class="lz-reply-txt">当事人回复</span></span>'),e.text(o?"当事人回复":"取消当事人回复"),i.fire("litigantCmt")},error:function(t){u.alert(t.msg)},always:function(){d.pause(e)}})})},actionAccept:function j(e){var i=this,n=i.getEl(),a=i.getActionEl(),t=i.rawConfig;u.confirm("采纳本楼为最佳回答后，你悬赏的牛币将直接打入对方账户，你将无法撤销本操作，是否确定采纳？",function(){!d.mark(e)&&C.acceptComment({body:{commentId:t.id,entityId:t.entityId,entityType:t.entityType},call:function(t){n.find(".post-floor").after('<span class="plusFine accept-mini-tag float-right">已采纳</span>'),a.find(".js-cmt-action[data-action=del]").remove(),e.remove(),i.fire("acceptCmt")},error:function(t){u.alert(t.msg)},always:function(){d.pause(e)}})})},actionReport:function T(){y.show({type:v.type.comment,entityId:this.rawConfig.id,mainCommentEntryId:this.rawConfig.postId})},actionSpam:function z(){var n=this,a=n.rawConfig;new u({title:"提示",content:['<div style="text-align:center;">','<a href="javascript:void(0);" class=" btn btn-primary btn-lg js-close-popup" data-type="1" style="margin-bottom:20px;">这条回帖是垃圾</a>','<a href="javascript:void(0);" class="btn btn-warn btn-lg js-close-popup">TA的回帖都是垃圾</a>',"</div>"].join("")}).getEl().on("click","a.btn-lg",function(t){var e=f(t.currentTarget),i="1"===f.trim(e.attr("data-type"));u.confirm(i?"确定将这条评论标记为垃圾吗？":"确定将这个用户的所有评论标记为垃圾，并拉黑TA吗？",function(){h[i?"markCommentSpam":"markUserAllCommentSpam"]({body:i?{cid:a.id}:{uid:a.authorId,type:2},call:function(){n.fire("delCmt")},error:function(t){u.alert(t.msg)}})})})},openSubCmt:function F(){var e=this,i=e.rawConfig,n=e.getSubCmtEl(),a=f(e.getActionEl().find("a.js-cmt-action")[0]);0<n.length&&!e.isFeedAd&&t.async("../index",function(t){n.show(),e.subCmtList=new t({renderTo:n,type:"sub",cmtClazz:e.constructor.subCmtClazz,isAdmin:i.isAdmin,isSubCmt:!0,needSubReport:!!i.needSubReport,needReply:!0,entityId:i.id,entityOwnerId:i.authorId,entityType:v.type.comment,currentUid:i.currentUid,userId:i.authorId,pageSize:10,page:1,order:1,extHeight:i.extHeight,clsUserCard:i.clsUserCard,clsHonorLevel:i.clsHonorLevel,urlProfile:i.urlProfile,extParam:i.extParam,postId:i.parentId,listeners:{listDataChange:function(t){a.text("回复("+(t.totalCount||0)+")")}}}),d.pause(a)})},getSubCmtEl:function U(){},getActionEl:function W(){},isSelf:function P(){var t=this.rawConfig,e=g.id(t.currentUid);return e&&e===g.id(t.authorId)},isAdmin:function D(){return!!this.rawConfig.isAdmin},_getData:function H(t){var e=this,i=t.typeStatus,n=t.item,a=g.map(t.identity,e._getIdentityStr).join(""),o=g.extend({},t,{id:t.id,createTime:s.relate(new Date(t[t.isEdited?"updateTime":"createTime"]),"yyyy-MM-dd HH:mm:ss"),likeTxt:t.isLiked?"已赞":"赞",likeType:t.isLiked?"unlike":"like",floorStr:i.isWonderful||i.isAccept||!t.floor?"":'<span class="'+(t.isWonderful?"post-floor-green":e.isFeedAd?"post-ad-tag":"post-floor")+'">'+t.floor+(e.isFeedAd?"":"#")+"</span>",acceptStr:i.isWonderful||i.isAccept||!n.isAccepted?"":'<span class="plusFine accept-mini-tag float-right">已采纳</span>',litigantStr:t.isLitigant?'<span class="lz-reply"><span class="lz-reply-txt">当事人回复</span></span>':"",identityStr:a},e.getExtData&&e.getExtData());return o.content&&(o.content=m.replaceLink(o.content)),o},_getIdentityStr:function R(t){return'<a title="'+t.name+'" href="/user/authentication" class="js-nc-title-tips" target="_blank"><img class="'+t.idenClass+' js-nc-title-tips" data-identity="1" src="//static.nowcoder.com/nc/image/identity/'+t.level+'.png"></a>'}})});
define("nowcoder/1.2.1225/javascripts/component/cmt/item/bbs",["nc","cpn","./item","ncpc","../../../action/contest","../../../action/admin","../../../core/siteConfig"],function(a,t,s){var i=a("nc"),e=(a("cpn"),i.$,i.Base,i.Clazz),n=a("./item"),c=s.exports=e.create();e.mix(c,n,{_template:['<div class="answer-list-item clearfix js-copy-mark" data-mark-info="作者：#{authorName}">','<div class="answer-content clearfix">','<a class="answer-head #{clsUserCard}" data-card-uid="#{authorId}" href="#{urlProfile}" target="_blank">','<img alt="#{authorName}头像" src="#{headImg}">',"</a>",'<div class="answer-detail">',"<p>",'<a title="#{authorName}" href="#{urlProfile}" target="_blank" data-card-uid="#{authorId}" class="js-copy-tip #{clsUserCard} #{clsHonorLevel} answer-name">#{authorName}</a>'," #{identityStr}","#{floorStr}","#{acceptStr}","#{litigantStr}","</p>",'<div class="answer-brief nc-post-content">#{content}</div>','<div class="answer-legend js-action">','<span class="answer-time">发表于 #{createTime}</span>','<a href="javascript:void(0);" class="js-cmt-action" data-action="reply">回复(#{commentCnt})</a>','<a href="javascript:void(0);" class="js-cmt-action" data-action="like">#{likeTxt}(#{likes})</a>',"</div>",'<div class="reply-box js-sub-cmt-list" style="display:none;"></div>',"</div>","</div>","</div>"].join(""),_listTemplate:'<div class="answer-list discuss-topic-answers js-list"></div>',_noneTemplate:['<div class="blank-box">','<div class="blank-img"><img src="//static.nowcoder.com/images/sofa.png"></div>',"<p>帖子还没人回复，快来抢沙发！</p>","</div>"].join("")},{getActionEl:function r(){return this.getEl().find(".js-action")},getSubCmtEl:function l(){return this.getEl().find(".js-sub-cmt-list")}})});
define("nowcoder/1.2.1225/javascripts/component/cmt/item/sub",["nc","cpn","./item","ncpc","../../../action/contest","../../../action/admin","../../../core/siteConfig","../cpn/reply"],function(e,t,r){var a=e("nc"),i=(e("cpn"),a.$,a.Base),n=a.Clazz,s=a.Str,l=a.Limit,o=e("./item"),c=e("../cpn/reply"),d=r.exports=n.create();n.mix(d,o,{_template:['<div class="reply-list-item js-copy-mark" data-mark-info="作者：#{authorName}">','<div class="reply-main clearfix">','<div class="reply-person" style="margin-right:5px;">','<a href="#{urlProfile}" target="_blank" data-card-uid="#{authorId}" class="js-copy-tip #{clsUserCard} #{clsHonorLevel}">#{authorName}</a>'," #{identityStr}","#{authorExt}","</div>",'<div class="reply-content">#{content}</div>',"</div>",'<div class="answer-legend reply-info js-sub-action">','<span class="reply-time">#{createTime}</span>','<a href="javascript:void(0);" class="reply-answer js-cmt-action" data-action="reply">回复</a>','<a href="javascript:void(0);" class="reply-like js-cmt-action" data-action="like">#{likeTxt}(#{likes})</a>',"</div>",'<div class="js-sub-reply" style="display:none;"></div>',"</div>"].join(""),_listTemplate:'<div class="reply-list js-list"></div>',_noneTemplate:" "},{actionReply:function p(e){var r=this,a=r.rawConfig,t=r.getEl().find(".js-sub-reply");if(l.mark(e))return;if(r.replyCpn)return t.slideUp(150,function(){t.hide(),r.replyCpn.destroy(),r.replyCpn=null,t.html(""),l.clear(e)});r.replyCpn=new c({renderTo:t,placeholder:"回复"+a.authorName,listeners:{render:function(){var e=this.getEl();e.prepend('<div class="toparrow"></div>')},goAddCmt:function(e,t){r.fire("goAddCmt",{content:e,toUserId:a.authorId,toCommentId:a.id},t)}}}),t.slideDown(150,function(){l.clear(e),r.replyCpn.focus()})},getActionEl:function u(){return this.getEl().find(".js-sub-action")},getExtData:function m(){var e=this.rawConfig,t="：";if(e.toUserId&&i.id(e.toCommentId)!==i.id(e.parentId)){var r=i.map(e.toUserIdentity,this._getIdentityStr).join(""),a=i.id(e.toUserHonorLevel);t=s.execTpl(' 回复 <a href="/profile/#{uid}" target="_blank" data-card-uid="#{uid}" class="#{clsUserCard} #{cls}">#{userName}</a> #{toIdentityStr}：',{uid:e.toUserId,userName:e.toUserName,clsUserCard:e.clsUserCard||"js-nc-card",cls:a?s.execTpl(e.clsHonorLevel||"level-color-#{honorLevel}",{honorLevel:a}):"",toIdentityStr:r})}var n=(e.content||"").replace(/\n/gi,"<br />");return n=n.replace(/\s+([^<>]+)(?=<)|\s+([^<>]+)$/g,function(e){return e.replace(/\s/g,"&nbsp;")}),{authorExt:t,content:n}}})});
define("nowcoder/1.2.1225/javascripts/component/cmt/index",["nc","cpn","ncPlugin/highlighter/highlighter","../../core/siteConfig","../../action/contest","ncpc"],function(n,t,e){var l,s,i=n("nc"),r=n("cpn"),c=i.$,d=i.Base,o=i.Clazz,a=i.Component,p=i.Limit,m=i.Dom,u=i.Num,g=i.Event,f=i.Db,h=r.Pager,y=r.Popup,C=r.CheckBox,v=n("ncPlugin/highlighter/highlighter"),w=n("../../core/siteConfig"),I=n("../../action/contest"),T=e.exports=o.create();o.mix(T,a,{_template:['<div class="">','<div class="js-tips"></div>','<div class="js-content" style="display:none;"></div>','<div class="js-pager-box" style="display:none;"></div>','<div class="js-reply-box" style="display:none;"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var e=this,t=e.getEl(),n=e.rawConfig;e.contentEl=t.find(".js-content"),e.replyEl=t.find(".js-reply-box"),e.tipsEl=t.find(".js-tips"),e.pageEl=t.find(".js-pager-box"),e.showTips("加载中..."),e.initPlugin(function(){if(e.cmtClazz=n.cmtClazz||{bbs:l,wonderful:l,accept:l,sub:s}[n.type],!e.cmtClazz)return e.showTips("缺少评论模板");var t=d.id(n.commentId);t?I.getCommentPageNum({query:{pageSize:e.pageSize,order:e.order,entityId:n.entityId,entityType:n.entityType,commentId:n.commentId},call:function(t){e.page=+t.data},always:function(){e.refresh(function(){e.scrollToId(t,!0,!0)})}}):e.refresh(),e.initReply()})}}]},{initialize:function x(t){var e=this;t.type=t.type||"bbs",e.isWonderful="wonderful"===t.type,e.isAccept="accept"===t.type,e.isSubCmt=!!t.isSubCmt||"sub"===t.type,e.totalCount=-1,e.page=t.page,e.pageSize=t.pageSize||(e.isWonderful||e.isAccept?10:20),e.cmtList=[],e.order=d.id(t.order)||"1";var n=t.extCmts;e.extCmts=n?d.isArray(n)?n:[n]:[]},initPlugin:function z(i){var r=["./item/bbs","./item/sub"],o=[],a=0;d.forEach(r,function(t,e){n.async(t,function(t){o[e]=t,r.length<=++a&&function n(t,e){l=t,s=e,i&&i()}.apply(null,o)})})},initTheme:function E(){var t=this.contentEl;a.recycle(t,!1);var e=this.cmtClazz._listTemplate||"";t.html(e).show(),this.listEl=t.find(".js-list")},initReply:function b(){var r=this,o=r.rawConfig,e=r.replyEl;if(!o.needReply)return;n.async("./cpn/reply",function(t){var i=new t({renderTo:e,listeners:{render:function(){var t=this.ipt;!o.currentUid&&t.on("click",function(){t.blur(),g.fire("window:showAuthDialog")})},goAddCmt:function(t,e){var n=d.id(o.entityType)===d.id(w.type.comment)?o.entityId:null;!p.mark(e)&&r.createCmt({content:t,toUserId:o.userId||0,toCommentId:n,call:function(t){var e=d.id(t.data);e&&r.scrollToId(e),!e&&r.scrollToTop(),i.val("")},always:function(){p.clear(e)}})}}});e.show()})},changeOrder:function P(t){t=d.id(t)||"1",this.order!==t&&(this.order=t,this.renderPage(1))},refresh:function S(t){this.renderPage(this.page,t)},renderPage:function A(i,r){var o=this,a=o.rawConfig;o.getListData(i,function(t,e){var n=0<(o.extCmts||[]).length&&0<(e.comments||[]).length&&i===a.page;n&&(e.comments=o.extCmts.concat(e.comments)),o.renderList(t,e),r&&r(t,e)})},renderList:function L(t,e){var n=this,i=(n.rawConfig,e.comments);if(n.cmtList.length=0,n.showTips(!1),n.initTheme(),0===i.length)n.renderNone();else{var r=0;d.forEach(i,function(t){n.renderCmtItem(t,r),!t.isFeedAd&&r++})}n.renderPager(t,e.totalPage),n.fire("listDataChange",{totalCount:n.totalCount}),v.init()},renderCmtItem:function j(t,e){var n=this,i=n.rawConfig,r=n.cmtClazz,o=n.order,a=e+(n.page-1)*n.pageSize,l=r.initConf(t,{renderTo:n.listEl,postId:i.postId||i.entityId,parentId:i.entityId,isAdmin:i.isAdmin,isAward:i.isAward,needSubReport:i.needSubReport,isEntityAuthor:i.userId&&d.id(i.userId)===d.id(i.currentUid),entityId:i.entityId,entityType:i.entityType,currentUid:i.currentUid,index:"0"===o?n.totalCount-a-1:"1"===o?a:undefined,extHeight:i.extHeight,clsUserCard:i.clsUserCard||"js-nc-card",clsHonorLevel:i.clsHonorLevel||"level-color-#{honorLevel}",urlProfile:i.urlProfile||"/profile/#{authorId}",extParam:i.extParam,typeStatus:{isSubCmt:n.isSubCmt,isWonderful:n.isWonderful,isAccept:n.isAccept},listeners:{goAddCmt:function(t,e){t&&!p.mark(e)&&n.createCmt(d.extend(t,{always:function(){p.clear(e)}}))},delCmt:function(){n.totalCount--,n.refresh()},wonderfulCmt:function(){n.fire("wonderfulChange")},litigantCmt:function(){n.fire("litigantChange")},acceptCmt:function(){i.isAward=!1,n.fire("acceptChange")}}}),t=new r(l);if(n.cmtList.push(t),i.fixCmtItem&&i.fixCmtItem(t),i.autoOpenSubCmt&&0!==l.commentCnt){var s=c(t.getActionEl().find("a.js-cmt-action")[0]);p.mark(s)||t.openSubCmt(s)}},renderNone:function U(){var t=this.rawConfig,e=(this.getEl(),t.noneTips||this.cmtClazz._noneTemplate||"没有数据");this.contentEl.html(e)},renderPager:function R(t,e){var n=this,i=(n.getEl(),n.pageEl);a.recycle(i,!1),i[1<e?"show":"hide"](),new h({renderTo:i,renderBy:"html",current:t,total:e,pageChange:function(t){n.renderPage(t,function(){n.scrollToTop()})}})},getListData:function k(n,i){var r=this,t=r.rawConfig;r.getEl();-1===(n=n||t.page||1)&&0<=r.totalCount&&(n=u.page(r.totalCount,r.pageSize));var e=r.isAccept?"getAcceptedList":r.isWonderful?"getWonderfulCommentList":"getCommentByPageV2";I[e]({query:d.extend({pageSize:r.pageSize,page:Math.max(n,1),order:r.order,entityId:t.entityId,entityType:t.entityType},t.extParam),call:function(t){var e=t.data;if(-1===n||0!==e.totalCnt&&0===e.comments.length)return r.renderPage(e.totalPage);r.totalCount=e.totalCnt,r.page=n,r.pageSize=e.pageSize,i(n,e)},error:function(t){r.showTips(t.msg)}})},createCmt:function D(e){var i=this,t=i.rawConfig,n=e.content,r=n.replace(/<.*?>/gi,""),o=/<img.+>/gi.test(n);if(o||r)if(!o&&r.length<5&&!f.get("noReplyIrrigationAlert")){var a=y.confirm("灌水的话可能会被管理员删除的，确定现在提交吗？",s,e.always),l=new C({renderTo:a.popupFooter,text:"以后不再提示"});l.listen("change",function(){f.set("noReplyIrrigationAlert",this.isChecked())})}else s();else y.alert("内容不能为空"),e.always&&e.always();function s(){I.comment({captcha:{type:w.captcha.postComment},body:{entityType:t.entityType,entityOwnerId:t.entityOwnerId||0,entityId:t.entityId,commentContent:n,toUserId:e.toUserId,toCommentId:e.toCommentId},call:function(n){i.page;i.totalCount++,i.renderPage(-1,function(t,e){!i.isSubCmt&&d.id(n.data)?i.scrollToId(n.data,!1,!0):i.scrollToTop()}),e.call&&e.call(n)},error:function(t){y.alert(t.msg),e.error&&e.error(t)},always:e.always})}},scrollToTop:function H(t){var e=this.rawConfig,n=e.renderTo;m.scrollToEl({el:n,scrollEl:m.getScrollParent(n),animation:!!t,ext:+e.extHeight||0})},scrollToId:function W(e,t,n){var i=this.rawConfig,r=(this.cmtList,d.find(this.cmtList,function(t){return d.id(t.rawConfig.id)===d.id(e)}));if(r){var o=r.getEl();m.scrollToEl({el:o,scrollEl:m.getScrollParent(o),animation:!!t,ext:+i.extHeight||0}),n&&m.highLight({el:o})}},showTips:function B(t){this.getEl();var e=this.tipsEl;if(!t||!c.trim(t))return e.hide().html("");e.html('<div style="padding:20px 0;text-align:center;font-size:14px;">'+t+"</div>").show()}})});